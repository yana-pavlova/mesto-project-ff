(()=>{"use strict";var e=document.querySelector("#card-template").content;function t(t,n,o,r){var i=e.querySelector(".card").cloneNode(!0),c=i.querySelector(".card__image");c.src=t.link,c.alt=t.alt;var a=i.querySelector(".card__title");return a.textContent=t.name,i.querySelector(".card__delete-button").addEventListener("click",n),i.querySelector(".card__like-button").addEventListener("click",o),c.addEventListener("click",(function(){return r(c,a)})),i}function n(e){e.target.closest(".card").remove()}function o(e){e.target.classList.toggle("card__like-button_is-active")}function r(e){e.classList.add("popup_is-opened"),window.addEventListener("keydown",c)}function i(e){e.classList.remove("popup_is-opened"),window.removeEventListener("keydown",c)}function c(e){e.key&&"escape"===e.key.toLowerCase()&&i(document.querySelector(".popup_is-opened"))}var a=document.querySelector(".places__list"),u=document.querySelector(".popup_type_edit"),l=document.querySelector(".popup_type_new-card"),d=document.querySelector(".popup_type_image"),f=d.querySelector("#popup-image"),p=d.querySelector("#popup-description"),s=document.querySelector(".profile__edit-button"),m=document.querySelector(".profile__add-button"),x=document.querySelectorAll(".popup__close"),_=document.querySelectorAll(".popup"),v=document.forms["edit-profile"],y=document.forms["new-place"],w=document.querySelector(".profile__title"),b=document.querySelector(".profile__description");function q(e){a.prepend(e)}function D(e){e.reset()}function k(e,t){f.src="",f.alt="",p.textContent="",f.src=e.src,f.alt=t.textContent,p.textContent=t.textContent,r(d)}s.addEventListener("click",(function(){return D(v)})),s.addEventListener("click",(function(){return r(u)})),m.addEventListener("click",(function(){return D(y)})),m.addEventListener("click",(function(){return r(l)})),x.forEach((function(e){var t=e.closest(".popup");e.addEventListener("click",(function(){return i(t)}))})),_.forEach((function(e){e.addEventListener("click",(function(t){return n=e,void(t.target.classList.contains("popup")&&i(n));var n}))})),y.addEventListener("submit",(function(e){return function(e,t,r){e.preventDefault();var c=y.elements["place-name"].value;r(t({name:c,link:y.elements.link.value,alt:c},n,o,k)),i(l),D(y)}(e,t,q)})),v.elements.name.value=document.querySelector(".profile__title").textContent,v.elements.description.value=document.querySelector(".profile__description").textContent,v.addEventListener("submit",(function(e){e.preventDefault();var t=v.elements.name.value,n=v.elements.description.value;w.textContent=t,b.textContent=n,v.elements.name.defaultValue=w.textContent,v.elements.description.defaultValue=b.textContent,i(u)})),[{name:"Мальдивы",link:"https://images.unsplash.com/photo-1519114056088-b877fe073a5e?q=80&w=2066&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",alt:"Мальдивы"},{name:"Портланд, Австралия",link:"https://images.unsplash.com/photo-1434873740857-1bc5653afda8?q=80&w=1978&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",alt:"Портланд, Австралия"},{name:"Вернацца, Италия",link:"https://images.unsplash.com/photo-1499678329028-101435549a4e?q=80&w=2070&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",alt:"Вернацца, Италия"},{name:"Норвегия",link:"https://images.unsplash.com/photo-1600255940203-05fd89e1d7af?q=80&w=1974&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",alt:"Норвегия"},{name:"Фьядрарглйуфур, Исландия",link:"https://plus.unsplash.com/premium_photo-1661956197580-008967ad1500?q=80&w=1992&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",alt:"Фьядрарглйуфур, Исландия"},{name:"Кейптаун, ЮАР",link:"https://images.unsplash.com/photo-1522879943092-d2b0e4e1da17?q=80&w=2086&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",alt:"Кейптаун, ЮАР"}].forEach((function(e){return q(t(e,n,o,k))}))})();